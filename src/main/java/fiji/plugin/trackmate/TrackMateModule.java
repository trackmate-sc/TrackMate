/*-
 * #%L
 * TrackMate: your buddy for everyday tracking.
 * %%
 * Copyright (C) 2010 - 2024 TrackMate developers.
 * %%
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public
 * License along with this program.  If not, see
 * <http://www.gnu.org/licenses/gpl-3.0.html>.
 * #L%
 */
package fiji.plugin.trackmate;

import javax.swing.ImageIcon;

import org.scijava.plugin.SciJavaPlugin;

/**
 * Interface for TrackMate modules.
 * <p>
 * Modules are the way users can extend TrackMate. We rely on SciJava automatic
 * plugin discovery to facilitate extension. To have a module discovered
 * annotate its class with for instance
 *
 * <pre>
 * &#64;Plugin( type = SpotAnalyzerFactory.class, priority = Priority.LOW, visible = false )
 * </pre>
 * 
 * This will have a
 * {@link fiji.plugin.trackmate.features.spot.SpotAnalyzerFactory} module
 * registered in TrackMate. It will be given a priority of 1 (0 is the default),
 * which means that it will be run <b>after</b> the analyzers of a <b>lower</b>
 * priority. This is used when some modules depends on the results generated by
 * other modules. The <code>visible</code> tag determines whether the module is
 * visible or not in the GUI.
 * <p>
 * Currently there are 7 types of modules:
 * <ul>
 * <li>{@link fiji.plugin.trackmate.detection.SpotDetectorFactory}: generates
 * detectors for the detection step of TrackMate.
 * <li>{@link fiji.plugin.trackmate.features.spot.SpotAnalyzerFactory}:
 * generates analyzers that grant spots with scalar numerical features.
 * <li>{@link fiji.plugin.trackmate.visualization.ViewFactory}: generates views
 * that can display the detection and tracking results.
 * <li>{@link fiji.plugin.trackmate.tracking.SpotTrackerFactory}: generates
 * particle linkers for the tracking step of TrackMate.
 * <li>{@link fiji.plugin.trackmate.features.track.TrackAnalyzer}: compute
 * scalar numerical features for tracks.
 * <li>{@link fiji.plugin.trackmate.features.edges.EdgeAnalyzer}: compute scalar
 * numerical features for edges (individual links between spots).
 * <li>{@link fiji.plugin.trackmate.action.TrackMateActionFactory}: generates
 * actions that provide general use actions for TrackMate from the GUI.
 * </ul>
 * 
 * @author Jean-Yves Tinevez &lt;jeanyves.tinevez@gmail.com&gt; 2014
 *
 */
public interface TrackMateModule extends SciJavaPlugin
{

	/**
	 * Returns a html string containing a descriptive information about this
	 * module.
	 *
	 * @return a html string.
	 */
	public String getInfoText();

	/**
	 * Returns the icon for this action. Can be <code>null</code>.
	 *
	 * @return the icon. Returns <code>null</code> to be safely ignored.
	 */
	public ImageIcon getIcon();

	/**
	 * Returns a unique identifier of this module.
	 *
	 * @return the action key, as a string.
	 */
	public String getKey();

	/**
	 * Returns the human-compliant name of this module.
	 *
	 * @return the name, as a String.
	 */
	public String getName();

	/**
	 * Returns a flag that tells TrackMate whether it should strictly forbid
	 * running this module concurrently.
	 * <p>
	 * This might be the case for instance if you have a spot detector that you
	 * want to run strictly one frame after another, to save resources or
	 * because the multi-threading of the detector cannot be controlled. In that
	 * case this flag should be set to <code>true</code>.
	 * <p>
	 * If <code>false</code> (the default), the multi-threading will be decided
	 * by TrackMate.
	 * 
	 * @return whether to forbid running this module concurrently
	 */
	public default boolean forbidMultithreading()
	{
		return false;
	}

	/**
	 * Returns a URL pointing to a webpage documenting this module. The URL is
	 * returned as a string, containing the fully qualified URL to the help
	 * page. For instance:
	 * 
	 * <pre>
	 * https://imagej.net/plugins/trackmate/detectors/difference-of-gaussian
	 * </pre>
	 * 
	 * @return this module documentation URL, or <code>null</code> if there is
	 *         none.
	 */
	public default String getUrl()
	{
		return null;
	}
}
